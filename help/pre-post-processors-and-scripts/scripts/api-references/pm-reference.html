<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-pre-post-processors-and-scripts/scripts/api-references/pm-reference">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">pm 对象 API | Apifox 帮助文档</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://apifox.com/help/pre-post-processors-and-scripts/scripts/api-references/pm-reference"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="url" content="https://apifox.com"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="pm 对象 API | Apifox 帮助文档"><meta data-rh="true" name="description" content="全局方法"><meta data-rh="true" property="og:description" content="全局方法"><link data-rh="true" rel="icon" href="https://cdn.apifox.com/logo/apifox-logo-64.png"><link data-rh="true" rel="canonical" href="pm-reference.html"><link data-rh="true" rel="alternate" href="pm-reference.html" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="pm-reference.html" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KLXT89M46M-dsn.algolia.net"><link rel="search" type="application/opensearchdescription+xml" title="Apifox 帮助文档" href="../../../opensearch.xml"><link rel="stylesheet" href="https://cdn.apifox.com/mirror-www/help/assets/css/styles.845be0f2.css">
<link rel="preload" href="https://cdn.apifox.com/mirror-www/help/assets/js/runtime~main.856b1bcf.js" as="script">
<link rel="preload" href="https://cdn.apifox.com/mirror-www/help/assets/js/main.b8f811be.js" as="script">
</head>
<body class="navigation-with-keyboard theme-tars">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_VVze" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top flex justify-center navbar_GlWZ sticky top-0 z-40 w-full lg:backdrop-blur flex-none lg:z-50 bg-nearly-transparent dark:bg-transparent"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn navbar__toggle__btn_Wvd0" type="button"><svg class="navbar__toggle__menu_ncf9" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><path d="M85.333 256A42.667 42.667 0 0 1 128 213.333h768a42.667 42.667 0 1 1 0 85.334H128A42.667 42.667 0 0 1 85.333 256zm0 256A42.667 42.667 0 0 1 128 469.333h512a42.667 42.667 0 1 1 0 85.334H128A42.667 42.667 0 0 1 85.333 512zm0 256A42.667 42.667 0 0 1 128 725.333h768a42.667 42.667 0 1 1 0 85.334H128A42.667 42.667 0 0 1 85.333 768z"></path></svg></button><a class="navbar__brand" href="../../../index.html"><div class="navbar__logo"><img src="https://cdn.apifox.com/logo/apifox-logo-64.png" alt="apifox" class="themedImage_RAmp themedImage--light_euby themeLogo_mjlK" height="24" width="24" style="width:24px;height:24px"><img src="https://cdn.apifox.com/logo/apifox-logo-64.png" alt="apifox" class="themedImage_RAmp themedImage--dark_tOZA themeLogo_mjlK" height="24" width="24" style="width:24px;height:24px"></div><b class="navbar__title text--truncate">Apifox 帮助文档</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="../../../index.html">帮助文档</a><a class="navbar__item navbar__link" href="../../../applications-and-plugins/idea/start.html">IDEA 插件</a><a class="navbar__item navbar__link" href="../../../app/changelog/index.html">更新日志</a><a href="https://apifox666.feishu.cn/base/bascnA8ZHro9a3k73zpI93f5DKf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Road Map<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iconExternalLink_vc86"><path d="M5.25 3.5c0-.322.261-.583.583-.583H10.5c.322 0 .583.261.583.583v4.667a.583.583 0 0 1-1.167 0V4.909l-6.004 6.004a.583.583 0 1 1-.825-.825l6.005-6.004H5.833A.583.583 0 0 1 5.25 3.5Z" fill="#101828" fill-opacity="0.24"></path></svg></a><a href="https://apifox-openapi.apifox.cn/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">开放 API<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iconExternalLink_vc86"><path d="M5.25 3.5c0-.322.261-.583.583-.583H10.5c.322 0 .583.261.583.583v4.667a.583.583 0 0 1-1.167 0V4.909l-6.004 6.004a.583.583 0 1 1-.825-.825l6.005-6.004H5.833A.583.583 0 0 1 5.25 3.5Z" fill="#101828" fill-opacity="0.24"></path></svg></a><a href="../../../../index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Apifox 官网<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iconExternalLink_vc86"><path d="M5.25 3.5c0-.322.261-.583.583-.583H10.5c.322 0 .583.261.583.583v4.667a.583.583 0 0 1-1.167 0V4.909l-6.004 6.004a.583.583 0 1 1-.825-.825l6.005-6.004H5.833A.583.583 0 0 1 5.25 3.5Z" fill="#101828" fill-opacity="0.24"></path></svg></a><div class="navbar__item desktopDropdown dropdown--hoverable desktopDropdown_JWTf dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">下载</a><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="dropdownIcon_xPzk"><path d="M3.088 4.838a.583.583 0 0 1 .825 0L7 7.925l3.088-3.087a.583.583 0 0 1 .825.825l-3.5 3.5a.583.583 0 0 1-.825 0l-3.5-3.5a.583.583 0 0 1 0-.825Z" fill="#101828" fill-opacity="0.56"></path></svg><ul class="dropdown__menu"><li><a href="../../../../index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">下载 Apifox<svg width="12" height="12" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iconExternalLink_vc86"><path d="M5.25 3.5c0-.322.261-.583.583-.583H10.5c.322 0 .583.261.583.583v4.667a.583.583 0 0 1-1.167 0V4.909l-6.004 6.004a.583.583 0 1 1-.825-.825l6.005-6.004H5.833A.583.583 0 0 1 5.25 3.5Z" fill="#101828" fill-opacity="0.24"></path></svg></a></li><li><a href="https://plugins.jetbrains.com/plugin/20549-apifox-helper/versions" target="_blank" rel="noopener noreferrer" class="dropdown__link">下载 IDEA 插件<svg width="12" height="12" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iconExternalLink_vc86"><path d="M5.25 3.5c0-.322.261-.583.583-.583H10.5c.322 0 .583.261.583.583v4.667a.583.583 0 0 1-1.167 0V4.909l-6.004 6.004a.583.583 0 1 1-.825-.825l6.005-6.004H5.833A.583.583 0 0 1 5.25 3.5Z" fill="#101828" fill-opacity="0.24"></path></svg></a></li><li><a class="dropdown__link" href="../../../applications-and-plugins/browser-extensions/chrome.html">浏览器扩展</a></li></ul></div><div class="right-action_HoJ3"><div class="right-action__divider_wYf6"></div><div class="toggle_FZ2W"><button type="button" class="theme-toggle clean-btn toggleButton_OGEv toggleButtonDisabled_uxc6 toggleIcon_NaJ5" style="--theme-toggle__expand--duration:500ms" aria-label="Toggle theme" title="切换浅色/暗黑模式（当前为浅色模式）"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="1em" height="1em" fill="currentColor" class="theme-toggle__expand" viewBox="0 0 32 32"><clipPath id="navtheme-toggle__expand__cutout"><path d="M0-11h25a1 1 0 0017 13v30H0Z"></path></clipPath><g clip-path="url(#navtheme-toggle__expand__cutout)"><circle cx="16" cy="16" r="8.4"></circle><path d="M18.3 3.2c0 1.3-1 2.3-2.3 2.3s-2.3-1-2.3-2.3S14.7.9 16 .9s2.3 1 2.3 2.3zm-4.6 25.6c0-1.3 1-2.3 2.3-2.3s2.3 1 2.3 2.3-1 2.3-2.3 2.3-2.3-1-2.3-2.3zm15.1-10.5c-1.3 0-2.3-1-2.3-2.3s1-2.3 2.3-2.3 2.3 1 2.3 2.3-1 2.3-2.3 2.3zM3.2 13.7c1.3 0 2.3 1 2.3 2.3s-1 2.3-2.3 2.3S.9 17.3.9 16s1-2.3 2.3-2.3zm5.8-7C9 7.9 7.9 9 6.7 9S4.4 8 4.4 6.7s1-2.3 2.3-2.3S9 5.4 9 6.7zm16.3 21c-1.3 0-2.3-1-2.3-2.3s1-2.3 2.3-2.3 2.3 1 2.3 2.3-1 2.3-2.3 2.3zm2.4-21c0 1.3-1 2.3-2.3 2.3S23 7.9 23 6.7s1-2.3 2.3-2.3 2.4 1 2.4 2.3zM6.7 23C8 23 9 24 9 25.3s-1 2.3-2.3 2.3-2.3-1-2.3-2.3 1-2.3 2.3-2.3z"></path></g></svg></button></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_ZVXU flex items-center docsWrapper__Ftb"><div class="doc-page__inner docPage_njgP"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_ciaR" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_PLd8"><div class="sidebarViewport_h2do"><div class="sidebar_EmfY docusaurus-desktop-sidebar"><div class="sidebarSearchBox_nZ0O searchBox_TahN"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div><nav aria-label="文档侧边栏" class="menu menu_e8na"><ul class="theme-doc-sidebar-menu menu__list menu__list_gDTK"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../index.html">入门</a><button aria-label="打开/收起侧边栏菜单「入门」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../api-docs/api-design.html">接口文档</a><button aria-label="打开/收起侧边栏菜单「接口文档」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../debugging-api/introduction.html">接口调试</a><button aria-label="打开/收起侧边栏菜单「接口调试」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../branch/introduction.html">迭代分支</a><button aria-label="打开/收起侧边栏菜单「迭代分支」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../api-versioning/introduction.html">API 版本</a><button aria-label="打开/收起侧边栏菜单「API 版本」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../environment-and-variables/environment-management.html">环境 &amp; 变量</a><button aria-label="打开/收起侧边栏菜单「环境 &amp; 变量」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="../../introduction.html">前后置操作 &amp; 脚本</a><button aria-label="打开/收起侧边栏菜单「前后置操作 &amp; 脚本」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon menu__link--active"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../../introduction.html">功能简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../../assertions.html">断言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../../variable-extraction.html">提取变量</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../../database/database-operation.html">数据库</a><button aria-label="打开/收起侧边栏菜单「数据库」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="../intro-to-scripts.html">使用脚本</a><button aria-label="打开/收起侧边栏菜单「使用脚本」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon menu__link--active"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="../intro-to-scripts.html">脚本介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="../pre-request-scripts.html">前置脚本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="../post-request-scripts.html">后置脚本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="../public-scripts.html">公共脚本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="../calling-other-programming-languages.html">调用其它编程语言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="pm-reference.html">pm 对象 API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="javascript-library.html">使用 JS 类库</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../examples/assertion.html">脚本示例</a><button aria-label="打开/收起侧边栏菜单「脚本示例」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../../faq/variable-substitution.html">常见问题</a><button aria-label="打开/收起侧边栏菜单「常见问题」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../automated-testing/test-scenarios/creating-test-case.html">自动化测试</a><button aria-label="打开/收起侧边栏菜单「自动化测试」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../api-mock/intro-to-mock.html">接口 Mock</a><button aria-label="打开/收起侧边栏菜单「接口 Mock」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../code-generation.html">自动生成代码</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../api-docs/importing-api/introduction.html">导入 / 导出接口</a><button aria-label="打开/收起侧边栏菜单「导入 / 导出接口」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../team/team-projects.html">团队 &amp; 项目</a><button aria-label="打开/收起侧边栏菜单「团队 &amp; 项目」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../organizations/sso/introduction.html">组织</a><button aria-label="打开/收起侧边栏菜单「组织」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../personal/register-and-login.html">账号 &amp; 软件设置</a><button aria-label="打开/收起侧边栏菜单「账号 &amp; 软件设置」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../applications-and-plugins/desktop-applications/windows.html">应用与插件</a><button aria-label="打开/收起侧边栏菜单「应用与插件」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../best-practices/workflow.html">最佳实践</a><button aria-label="打开/收起侧边栏菜单「最佳实践」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../websocket.html">WebSocket 接口</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../webservice.html">WebService 接口</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../socket/intro-to-socket.html">Socket 接口</a><button aria-label="打开/收起侧边栏菜单「Socket 接口」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../grpc.html">gRPC 接口</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../dubbo/creating-dubbo.html">Dubbo 接口</a><button aria-label="打开/收起侧边栏菜单「Dubbo 接口」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../auth/api-key.html">身份验证 &amp; Auth 鉴权指南</a><button aria-label="打开/收起侧边栏菜单「身份验证 &amp; Auth 鉴权指南」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../reference/swagger-extension/index.html">参考资料</a><button aria-label="打开/收起侧边栏菜单「参考资料」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../../terms-and-conditions/terms-of-service.html">服务与隐私协议</a><button aria-label="打开/收起侧边栏菜单「服务与隐私协议」" type="button" class="clean-btn menu__caret_tppb"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-icon"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../glossary.html">词汇表</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../faq.html">常见问题</a></li></ul></nav><div class="collapse-sidebar_sCsw"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31568" width="16" height="16" class="collapse-sidebar__icon_JfKh"><path fill="currentColor" d="M396.501333 311.168a42.666667 42.666667 0 0 1 60.330667 0l170.666667 170.666667a42.666667 42.666667 0 0 1 0 60.330666l-170.666667 170.666667a42.666667 42.666667 0 0 1-60.330667-60.330667L537.002667 512 396.501333 371.498667a42.666667 42.666667 0 0 1 0-60.330667z" p-id="31569"></path></svg></div></div></div></aside><main class="docMainContainer_aka8"><div class="container padding-top--md padding-bottom--lg docItemWrapper_yEMf"><div class="row docItemInner_rg5W"><div class="col docItemCol_JCq7"><div class="docItemContainer_FeM2"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_ZsrY" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link breadcrumb-home-link_A1J_" href="../../../index.html"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="breadcrumbHomeIcon_vWft"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.652.89c.228-.062.469-.062.697 0 .265.072.488.247.666.387l.05.039 4.521 3.516.052.04c.251.195.473.367.637.59.145.196.253.416.318.65.075.267.075.547.075.865v4.915c0 .351 0 .654-.021.904a2.034 2.034 0 0 1-.198.778 2 2 0 0 1-.874.874 2.038 2.038 0 0 1-.778.197c-.25.02-.553.02-.904.02H10.52c-.08 0-.175 0-.258-.006a1.004 1.004 0 0 1-.38-.102 1 1 0 0 1-.438-.437 1.005 1.005 0 0 1-.102-.38 3.291 3.291 0 0 1-.007-.259V9.066a5.458 5.458 0 0 0-.008-.393h-.008a5.459 5.459 0 0 0-.384-.007H7.067a5.459 5.459 0 0 0-.392.007v.01a5.458 5.458 0 0 0-.008.383v4.415c0 .08 0 .175-.006.258a1.005 1.005 0 0 1-.103.38 1 1 0 0 1-.437.438 1.004 1.004 0 0 1-.38.102 3.265 3.265 0 0 1-.258.007H4.108c-.351 0-.654 0-.904-.02a2.038 2.038 0 0 1-.778-.198 2 2 0 0 1-.874-.874 2.036 2.036 0 0 1-.198-.778c-.02-.25-.02-.553-.02-.904V6.977c0-.318 0-.598.074-.865a2 2 0 0 1 .318-.65c.165-.223.386-.395.637-.59l.052-.04 4.522-3.516.05-.04c.177-.14.4-.314.665-.386Zm.344 1.297c-.05.033-.116.084-.24.181L3.233 5.885c-.332.258-.394.314-.436.37a.666.666 0 0 0-.106.217c-.019.067-.025.15-.025.57v4.824c0 .384 0 .632.016.821.015.181.04.248.057.282a.667.667 0 0 0 .291.29c.033.018.1.043.282.058.189.015.437.015.821.015h1.2V9.046c0-.169 0-.333.011-.471.013-.153.042-.333.134-.513.128-.251.332-.455.583-.583.181-.092.36-.122.513-.134.139-.012.303-.012.471-.011h1.91c.168 0 .331 0 .47.01.153.013.332.043.513.135.251.128.455.332.583.583.092.18.122.36.134.513.011.138.011.302.011.47v4.288h1.2c.385 0 .633 0 .822-.015.181-.015.248-.04.281-.057a.667.667 0 0 0 .291-.291c.017-.034.042-.1.057-.282.016-.189.016-.437.016-.821V7.043c0-.421-.006-.504-.025-.571a.668.668 0 0 0-.106-.217c-.041-.056-.103-.112-.435-.37L8.246 2.368a4.849 4.849 0 0 0-.24-.181L8 2.184c-.002 0-.003.002-.005.003Z" fill="#101828" fill-opacity="0.56"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">前后置操作 &amp; 脚本</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">使用脚本</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">pm 对象 API</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_UXw3 theme-doc-toc-mobile tocMobile_ErQB"><button type="button" class="clean-btn tocCollapsibleButton_Ki7f">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>pm 对象 API</h1><h2 class="anchor anchorWithStickyNavbar_v9Sm" id="全局方法">全局方法<a href="#%E5%85%A8%E5%B1%80%E6%96%B9%E6%B3%95" class="hash-link" aria-label="全局方法的直接链接" title="全局方法的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm">pm<a href="#pm" class="hash-link" aria-label="pm的直接链接" title="pm的直接链接">​</a></h3><div class="codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-text codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token plain">pm:Object</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>pm</code>对象包含了接口（或测试集）运行的相关信息，并且可以通过它访问需要发送的请求信息和发送后返回的结果信息。另外还可以通过它<code>get</code>或<code>set</code>环境变量和全局变量。</p><div class="codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-text codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token plain">pm.info:Object</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>pm.info</code> 对象包含了接口（或测试集）运行的相关信息。</p><ul><li><p><code>pm.info.eventName:String</code></p><p>当前执行是什么类型的脚本：前置脚本（prerequest），或后置脚本（test）。</p></li><li><p><code>pm.info.iteration:Number</code></p><p>当前执行第几轮循环（iteration），仅集合测试有效。</p></li><li><p><code>pm.info.iterationCount:Number</code></p><p>本次执行需要循环的总轮数，仅集合测试有效。</p></li><li><p><code>pm.info.requestName:String</code></p><p>当前正在运行的接口用例名称</p></li><li><p><code>pm.info.requestId:String</code></p><p>当前正在运行的接口用例名称的唯一 ID</p></li></ul><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-sendrequest">pm.sendRequest<a href="#pm-sendrequest" class="hash-link" aria-label="pm.sendRequest的直接链接" title="pm.sendRequest的直接链接">​</a></h3><p><strong><code>pm.sendRequest:Function</code></strong></p><p><code>pm.sendRequest</code> 用途为在脚本内异步发送 HTTP/HTTPS 请求。</p><ul><li>该方法接受一个 collection SDK 兼容的 request 参数和一个 callback 函数参数。 callback 有 2 个参数，第一个是 error ，第二个是 collection SDK 兼容的 response。更多信息请查阅 <a href="http://www.postmanlabs.com/postman-collection/Request.html#~definition" target="_blank" rel="noopener noreferrer">Collection SDK 文档</a> 。</li><li>在前置脚本和后置脚本都可以使用。</li></ul><div class="language-javascript codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-javascript codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GET 请求示例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://postman-echo.com/get&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;variable_key&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;new_value&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 完整的 request 参数示例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> echoPostRequest </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://postman-echo.com/post&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">header</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">headername1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">headername2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// body 为 x-www-form-urlencoded 格式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">mode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;urlencoded&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 此处为 urlencoded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 此处为 urlencoded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">urlencoded</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;account&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;apifox&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;password&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123456&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  // body 为 form-data 格式</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  body: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    mode: &#x27;formdata&#x27;, // 此处为 formdata</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    // 此处为 formdata</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    formdata: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      { key: &#x27;account&#x27;, value: &#x27;apifox&#x27; },</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      { key: &#x27;password&#x27;, value: &#x27;123456&#x27; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="display:inline-block;color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  // body 为 json 格式</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  header: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    &quot;Content-Type&quot;: &quot;application/json&quot;, // 注意：header 需要加上 Content-Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  body: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    mode: &#x27;raw&#x27;,// 此处为 raw</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    raw: JSON.stringify({ account: &#x27;apifox&#x27;, password:&#x27;123456&#x27; }), // 序列化后的 json 字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="display:inline-block;color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  // body 为 raw 或 json 格式</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  body: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    mode: &#x27;raw&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    raw: &#x27;此处为 body 内容&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">echoPostRequest</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 对返回结果进行断言</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://postman-echo.com/get&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;response should be okay to process&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">to</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">to</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">have</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;code&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">to</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">have</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">property</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;OK&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>参考:</p><ul><li><a href="http://www.postmanlabs.com/postman-collection/Request.html#~definition" target="_blank" rel="noopener noreferrer">Request JSON 结构</a></li><li><a href="http://www.postmanlabs.com/postman-collection/Response.html" target="_blank" rel="noopener noreferrer">Response 结构</a></li></ul><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-variables">pm.variables<a href="#pm-variables" class="hash-link" aria-label="pm.variables的直接链接" title="pm.variables的直接链接">​</a></h3><p><code>pm.variables:</code> <a href="https://www.postmanlabs.com/postman-collection/Variable.html" target="_blank" rel="noopener noreferrer">Variable SDK 参考</a></p><p>临时变量。不同类型的变量，有不同的优先级，不同类型变量的优先级顺序为： <code>临时变量</code> &gt; <code>环境变量</code> &gt; <code>全局变量</code> 。</p><ul><li><p><code>pm.variables.has(variableName:String):function → Boolean</code>: 检查是否存在某个临时变量。</p></li><li><p><code>pm.variables.get(variableName:String):function → *</code>: get 单个临时变量。</p></li><li><p><code>pm.variables.set(variableName:String, variableValue:String):function → void</code>: set 单个临时变量。</p></li><li><p><code>pm.variables.replaceIn(variableName:String):function</code>: 以真实的值替换字符串里包含的“动态变量”，如<code>{{variable_name}}</code>。示例：</p><div class="language-js codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-js codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 定义一个包含动态变量的字符串</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> stringWithVariable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Hello, {{username}}&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 使用 replaceIn 方法替换掉 {{username}} 变量占位符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> realValueString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">variables</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replaceIn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stringWithVariable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 输出替换后的值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">realValueString</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 输出: &quot;Hello, john_doe&quot;</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>pm.variables.replaceInAsync(variableName:String):function</code>: 以真实的值替换字符串里包含的“动态值表达式”，如<code>{{$person.fullName}}</code>。返回 Promise，调用时需加 <code>await</code>。示例：</p><div class="language-js codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-js codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 定义一个包含动态值表达式的字符串</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> stringWithVariable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Hello, {{$person.fullName}}&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 使用 replaceInAsync 方法替换掉 {{$person.fullName}} 占位符</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> realValueString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">variables</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replaceInAsync</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stringWithVariable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>pm.variables.toObject():function → Object</code>: 以对象形式获取所有临时变量。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-iterationdata">pm.iterationData<a href="#pm-iterationdata" class="hash-link" aria-label="pm.iterationData的直接链接" title="pm.iterationData的直接链接">​</a></h3><p><code>pm.iterationData:</code></p><p>测试数据变量，因为测试数据是单独管理的，暂不支持在脚本中直接设置测试数据变量，但是您可以在脚本中访问测试数据变量，如下。</p><ul><li><code>pm.iterationData.has(variableName:String):function → Boolean</code>: 检查是否存在某个测试数据变量。</li><li><code>pm.iterationData.get(variableName:String):function → *</code>: get 单个测试数据变量。</li><li><code>pm.iterationData.replaceIn(variableName:String):function</code>: 以真实的值替换字符串里包含的“动态变量”，如<code>{{variable_name}}</code>。</li><li><code>pm.iterationData.toObject():function → Object</code>: 以对象形式获取所有测试数据变量。</li></ul><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-environment">pm.environment<a href="#pm-environment" class="hash-link" aria-label="pm.environment的直接链接" title="pm.environment的直接链接">​</a></h3><ul><li><code>pm.environment.name:String</code>： 环境名。</li><li><code>pm.environment.has(variableName:String):function → Boolean</code>：检查是否存在某个环境变量。</li><li><code>pm.environment.get(variableName:String):function → *</code>：get 单个环境变量。</li><li><code>pm.environment.set(variableName:String, variableValue:String):function</code>：set 单个环境变量。</li><li><code>pm.environment.replaceIn(variableName:String):function</code>：以真实的值替换字符串里的包含的动态变量，如<code>{{variable_name}}</code>。</li><li><code>pm.environment.toObject():function → Object</code>：以对象形式获取当前环境的所有变量。</li><li><code>pm.environment.unset(variableName:String):function</code>： unset 单个环境变量。</li><li><code>pm.environment.clear():function</code>：清空当前环境的所有变量。</li></ul><p><strong>注意：</strong></p><p>以上所有操作都是读写的<code>本地值</code>，而不会读写<code>远程值</code>。</p><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-globals">pm.globals<a href="#pm-globals" class="hash-link" aria-label="pm.globals的直接链接" title="pm.globals的直接链接">​</a></h3><ul><li><p><code>pm.globals.has(variableName:String):function → Boolean</code>：检查是否存在某个全局变量。</p></li><li><p><code>pm.globals.get(variableName:String):function → *</code>：get 单个全局变量。</p></li><li><p><code>pm.globals.set(variableName:String, variableValue:String):function</code>：set 单个全局变量。</p></li><li><p><code>pm.globals.replaceIn(variableName:String):function</code>：以真实的值替换字符串里的包含的动态变量，如<code>{{variable_name}}</code>。</p><blockquote><p>如前置脚本，获取请求参数的值如果包含变量，则需要使用 <code>pm.globals.replaceIn</code> 才能将变量替换会真正的值。</p></blockquote></li><li><p><code>pm.globals.toObject():function → Object</code>：以对象形式获取所有全局变量。</p></li><li><p><code>pm.globals.unset(variableName:String):function</code>： unset 单个全局变量。</p></li><li><p><code>pm.globals.clear():function</code>：清空当前环境的全局变量。</p></li></ul><p><strong>注意：</strong></p><p>以上所有操作都是读写的<code>本地值</code>，而不会读写<code>远程值</code>。</p><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-request">pm.request<a href="#pm-request" class="hash-link" aria-label="pm.request的直接链接" title="pm.request的直接链接">​</a></h3><p><code>pm.request:</code> <a href="https://www.postmanlabs.com/postman-collection/Request.html" target="_blank" rel="noopener noreferrer">Request SDK 参考</a></p><p><code>request</code> 是接口请求对象。在前置脚本中表示<code>将要发送的请求</code>，在后置脚本中表示<code>已经发送了的请求</code>。</p><p><code>request</code> 包含了以下结构：</p><ul><li><code>pm.request.url</code>:<a href="http://www.postmanlabs.com/postman-collection/Url.html" target="_blank" rel="noopener noreferrer"><code>Url</code></a>: 当前请求的 URL。</li><li><code>pm.request.getBaseUrl()</code>：获取当前运行环境选择的的 <code>前置 URL</code>，在 2.1.39 版本之后支持。</li><li><code>pm.request.headers</code>:<a href="http://www.postmanlabs.com/postman-collection/HeaderList.html" target="_blank" rel="noopener noreferrer"><code>HeaderList</code></a>:当前请求的 headers 列表。</li><li><code>pm.request.method</code>:<code>String</code> 当前请求的方法，如<code>GET</code>、<code>POST</code>等。</li><li><code>pm.request.body</code>:<a href="http://www.postmanlabs.com/postman-collection/RequestBody.html" target="_blank" rel="noopener noreferrer"><code>RequestBody</code></a>: 当前请求的 body 体。</li><li><code>pm.request.headers.add({ key: headerName:String, value: headerValue:String})</code>:<code>function</code>: 给当前请求添加一个 key 为<code>headerName</code>的 header。</li><li><code>pm.request.headers.remove(headerName:String)</code>:<code>function</code>: 删除当前请求里 key 为<code>headerName</code>的 header</li><li><code>pm.request.headers.get(headerName:String)</code>:<code>function</code>: 查询当前请求里的 <code>headerName</code>。</li><li><code>pm.request.headers.upsert({ key: headerName:String, value: headerValue:String})</code>:<code>function</code>: upsert key 为<code>headerName</code>的 header（如不存在则新增，如已存在则修改）。</li><li><code>pm.request.auth</code>: 当前请求的身份验证信息</li></ul><p><strong>使用示例：</strong></p><p>在后置操作中填入自定义脚本，参考下图示例，选择所需要的提取对象，编写对应的函数。</p><p>例如提取请求中的 headers 中的 <code>Accept</code> 值并打印到控制台。</p><p><img loading="lazy" src="https://cdn.apifox.cn/uploads/help/202403221730915.png" class="img_bRPe"></p><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-response">pm.response<a href="#pm-response" class="hash-link" aria-label="pm.response的直接链接" title="pm.response的直接链接">​</a></h3><blockquote><p><strong>以下部分 API 仅在<code>后置脚本</code>中可用</strong></p></blockquote><p><code>pm.response:</code> <a href="https://www.postmanlabs.com/postman-collection/Response.html" target="_blank" rel="noopener noreferrer">Response SDK 参考</a></p><p>在后置脚本中 <code>pm.response</code> 接口请求完成后返回的 response 信息。</p><p>response 包含了以下结构：</p><ul><li><code>pm.response.code:Number</code></li><li><code>pm.response.status:String</code></li><li><code>pm.response.headers:</code><a href="http://www.postmanlabs.com/postman-collection/HeaderList.html" target="_blank" rel="noopener noreferrer"><code>HeaderList</code></a></li><li><code>pm.response.responseTime:Number</code></li><li><code>pm.response.responseSize:Number</code></li><li><code>pm.response.text():Function → String</code></li><li><code>pm.response.json():Function → Object</code></li><li><code>pm.response.setBody(&#x27;&#x27;)</code></li><li><code>pm.response.headers.get</code>: <a href="https://www.postmanlabs.com/postman-collection/Request.html#getHeaders" target="_blank" rel="noopener noreferrer">Response SDK 参考</a></li></ul><p>在后置脚本中使用 <code>pm.response.headers.get</code> 命令可以提取返回响应中的 <code>headers</code> 中的值。例如想要在控制台中显示 Header 中的 Date 值，那么可以在后置操作中填写如下自定义脚本：</p><div class="language-js codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-js codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> test </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">headers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Date&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://cdn.apifox.com/mirror-www/help/assets/images/get-headers-1-e7aa9850964c1fbb441688af0ae5c02e.png" width="2604" height="1872" class="img_bRPe"></p><p>若希望将其作为变量供其它接口调用，详细说明请参考<a href="../../../best-practices/how-to-pass-data-between-apis.html">《最佳实践：接口之间如何传递数据？》</a></p><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-cookies">pm.cookies<a href="#pm-cookies" class="hash-link" aria-label="pm.cookies的直接链接" title="pm.cookies的直接链接">​</a></h3><p><code>pm.cookies:</code> <a href="https://www.postmanlabs.com/postman-collection/CookieList.html" target="_blank" rel="noopener noreferrer">CookieList SDK 参考</a></p><p><code>cookies</code> 为当前请求对应域名下的 cookie 列表。</p><ul><li><p><code>pm.cookies.has(cookieName:String):Function → Boolean</code></p><p>检查是否存在名为<code>cookieName</code>的 cookie 值</p></li><li><p><code>pm.cookies.get(cookieName:String):Function → String</code></p><p>get 名为<code>cookieName</code>的 cookie 值</p></li><li><p><code>pm.cookies.toObject:Function → Object</code></p><p>以对象形式获取当前域名下所有 cookie</p></li><li><p><code>pm.cookies.jar().clear(pm.request.getBaseUrl())</code></p><p>清空全局 cookies</p></li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_pBYH"><div class="admonitionHeading_P4zF"><span class="admonitionIcon_QacJ"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>注意</div><div class="admonitionContent_MxSc"><p>pm.cookies 为接口请求后返回的 cookie，而不是接口请求发出去的 cookie。</p></div></div><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-test">pm.test<a href="#pm-test" class="hash-link" aria-label="pm.test的直接链接" title="pm.test的直接链接">​</a></h3><div class="codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-text codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token plain">pm.test(testName:String, specFunction:Function):Function</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>该方法用来断言某个结果是否符合预期。</p><p>以下示例为检查返回的 respone 是否正确：</p><div class="language-javascript codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-javascript codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token plain">pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;response should be okay to process&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">to</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">not</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">be</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">error</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">to</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">have</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">jsonBody</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">to</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">not</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">have</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">jsonBody</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;error&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>通过 callback 的可选参数 <code>done</code> ，还可用来测试异步方法：</p><div class="language-javascript codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-javascript codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token plain">pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;async test&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">done</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">expect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">to</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">done</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1500</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p><code>pm.test.index():Function → Number</code></p><p>Get the total number tests from a specific location.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-expect">pm.expect<a href="#pm-expect" class="hash-link" aria-label="pm.expect的直接链接" title="pm.expect的直接链接">​</a></h3><div class="codeBlockContainer_RUqU theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_g0DB"><pre tabindex="0" class="prism-code language-text codeBlock_ugxZ"><code class="codeBlockLines_aYAA"><span class="token-line" style="color:#393A34"><span class="token plain">pm.expect(assertion:*):Function → Assertion</span><br></span></code></pre><div class="buttonGroup_zzJF"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_mPv1" aria-hidden="true"><svg class="copyButtonIcon_cvIN" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_Rif8" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>pm.expect</code> 是一个普通的断言方法，查看详细的说明：<a href="http://chaijs.com/api/bdd/" target="_blank" rel="noopener noreferrer">ChaiJS expect BDD library</a>。</p><p>该方法用来断言 <code>response</code> 或 <code>variables</code>里的数据非常有用，更多关于 <code>pm.expect</code>断言的是示例，可以点击这里查看：<a href="https://learning.postman.com/docs/writing-scripts/script-references/test-examples/" target="_blank" rel="noopener noreferrer">Assertion library examples</a></p><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="response-对象可用的断言-api-列表">Response 对象可用的断言 API 列表<a href="#response-%E5%AF%B9%E8%B1%A1%E5%8F%AF%E7%94%A8%E7%9A%84%E6%96%AD%E8%A8%80-api-%E5%88%97%E8%A1%A8" class="hash-link" aria-label="Response 对象可用的断言 API 列表的直接链接" title="Response 对象可用的断言 API 列表的直接链接">​</a></h3><ul><li><code>pm.response.to.have.status(code:Number)</code></li><li><code>pm.response.to.have.status(reason:String)</code></li><li><code>pm.response.to.have.header(key:String)</code></li><li><code>pm.response.to.have.header(key:String, optionalValue:String)</code></li><li><code>pm.response.to.have.body()</code></li><li><code>pm.response.to.have.body(optionalValue:String)</code></li><li><code>pm.response.to.have.body(optionalValue:RegExp)</code></li><li><code>pm.response.to.have.jsonBody()</code></li><li><code>pm.response.to.have.jsonBody(optionalExpectEqual:Object)</code></li><li><code>pm.response.to.have.jsonBody(optionalExpectPath:String)</code></li><li><code>pm.response.to.have.jsonBody(optionalExpectPath:String, optionalValue:*)</code></li><li><code>pm.response.to.have.jsonSchema(schema:Object)</code></li><li><code>pm.response.to.have.jsonSchema(schema:Object, ajvOptions:Object)</code></li></ul><h3 class="anchor anchorWithStickyNavbar_v9Sm" id="pm-response-to-be">pm.response.to.be<a href="#pm-response-to-be" class="hash-link" aria-label="pm.response.to.be的直接链接" title="pm.response.to.be的直接链接">​</a></h3><p><code>pm.response.to.be</code> 是用来快速断言的一系列内置规则。</p><ul><li><p><code>pm.response.to.be.info</code></p><p>检查状态码是否为<code>1XX</code></p></li><li><p><code>pm.response.to.be.success</code></p><p>检查状态码是否为<code>2XX</code></p></li><li><p><code>pm.response.to.be.redirection</code></p><p>检查状态码是否为<code>3XX</code></p></li><li><p><code>pm.response.to.be.clientError</code></p><p>检查状态码是否为<code>4XX</code></p></li><li><p><code>pm.response.to.be.serverError</code></p><p>检查状态码是否为<code>5XX</code></p></li><li><p><code>pm.response.to.be.error</code></p><p>检查状态码是否为<code>4XX</code>或<code>5XX</code></p></li><li><p><code>pm.response.to.be.ok</code></p><p>检查状态码是否为<code>200</code></p></li><li><p><code>pm.response.to.be.accepted</code></p><p>检查状态码是否为<code>202</code></p></li><li><p><code>pm.response.to.be.badRequest</code></p><p>检查状态码是否为<code>400</code></p></li><li><p><code>pm.response.to.be.unauthorized</code></p><p>检查状态码是否为<code>401</code></p></li><li><p><code>pm.response.to.be.forbidden</code></p><p>检查状态码是否为<code>403</code></p></li><li><p><code>pm.response.to.be.notFound</code></p><p>检查状态码是否为<code>404</code></p></li><li><p><code>pm.response.to.be.rateLimited</code></p><p>检查状态码是否为<code>429</code></p></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev paginationNavLink_n1T_" href="../calling-other-programming-languages.html"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.707 5.293a1 1 0 0 1 0 1.414L6.414 11H20a1 1 0 1 1 0 2H6.414l4.293 4.293a1 1 0 0 1-1.414 1.414l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 0Z" fill="#101828" fill-opacity="0.8"></path></svg><div class="paginationNavLabelLeft_c1mu"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">调用其它编程语言</div></div></a><a class="pagination-nav__link pagination-nav__link--next paginationNavLink_n1T_" href="javascript-library.html"><div class="paginationNavLabelRight_NSIA"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">使用 JS 类库</div></div><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.293 5.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414L17.586 13H4a1 1 0 1 1 0-2h13.586l-4.293-4.293a1 1 0 0 1 0-1.414Z" fill="#101828" fill-opacity="0.8"></path></svg></a></nav></div></div><div class="col col--3 tocContainer_k4ct"><div class="tableOfContents_FTEW theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents_vQkl 1234"><li><a href="#%E5%85%A8%E5%B1%80%E6%96%B9%E6%B3%95" class="table-of-contents__link toc-highlight">全局方法</a><ul><li><a href="#pm" class="table-of-contents__link toc-highlight">pm</a></li><li><a href="#pm-sendrequest" class="table-of-contents__link toc-highlight">pm.sendRequest</a></li><li><a href="#pm-variables" class="table-of-contents__link toc-highlight">pm.variables</a></li><li><a href="#pm-iterationdata" class="table-of-contents__link toc-highlight">pm.iterationData</a></li><li><a href="#pm-environment" class="table-of-contents__link toc-highlight">pm.environment</a></li><li><a href="#pm-globals" class="table-of-contents__link toc-highlight">pm.globals</a></li><li><a href="#pm-request" class="table-of-contents__link toc-highlight">pm.request</a></li><li><a href="#pm-response" class="table-of-contents__link toc-highlight">pm.response</a></li><li><a href="#pm-cookies" class="table-of-contents__link toc-highlight">pm.cookies</a></li><li><a href="#pm-test" class="table-of-contents__link toc-highlight">pm.test</a></li><li><a href="#pm-expect" class="table-of-contents__link toc-highlight">pm.expect</a></li><li><a href="#response-%E5%AF%B9%E8%B1%A1%E5%8F%AF%E7%94%A8%E7%9A%84%E6%96%AD%E8%A8%80-api-%E5%88%97%E8%A1%A8" class="table-of-contents__link toc-highlight">Response 对象可用的断言 API 列表</a></li><li><a href="#pm-response-to-be" class="table-of-contents__link toc-highlight">pm.response.to.be</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="https://cdn.apifox.com/mirror-www/help/assets/js/runtime~main.856b1bcf.js"></script>
<script src="https://cdn.apifox.com/mirror-www/help/assets/js/main.b8f811be.js"></script>
</body>
</html>